(function(){"use strict";var t={1870:function(t,e,s){var o=s(6369),i=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("router-view"),e("ModalWindow",{directives:[{name:"show",rawName:"v-show",value:t.isModalOpen,expression:"isModalOpen"}],attrs:{onClose:t.closeModal,text:t.text,isModalOpen:t.isModalOpen}})],1)},a=[],n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal_window"},[e("div",{staticClass:"modal_container"},[e("div",{staticClass:"modal_close"},[e("button",{staticClass:"btn_modal_close",on:{click:function(e){return t.onClose(!1)}}},[t._v(" Х ")])]),e("div",{staticClass:"modal_hero"},[e("div",{staticClass:"modal_text"},[t._v(" "+t._s(t.text)+" ")]),e("div",{staticClass:"modal_control"},[e("GeneralButton",{staticClass:"btn_confirm",on:{click:function(e){return t.onClose(!0)}}},[t._v(" Yes ")]),e("GeneralButton",{staticClass:"btn_confirm",on:{click:function(e){return t.onClose(!1)}}},[t._v(" No ")])],1)])])])},l=[],d=function(){var t=this,e=t._self._c;return e("button",{staticClass:"btn_general",attrs:{type:t.type},on:{click:function(e){return t.$emit("click",e)}}},[t._t("default")],2)},r=[],c={name:"GeneralButton",props:{type:{type:String,default:"button"}}},u=c,h=s(1001),m=(0,h.Z)(u,d,r,!1,null,"5c49459a",null),p=m.exports,f={name:"ModalWindow",components:{GeneralButton:p},props:{onClose:{type:Function,required:!0},text:{type:String},isModalOpen:{type:Boolean,required:!0}},methods:{close(t){return()=>{this.onClose(t)}}}},_=f,L=(0,h.Z)(_,n,l,!1,null,"258a3e59",null),v=L.exports,k={name:"App",components:{ModalWindow:v},methods:{closeModal(t){this.$store.dispatch("closeModal",t)}},computed:{isModalOpen(){return this.$store.getters.PROMPT.isModalOpen},text(){return this.$store.getters.PROMPT.text}}},C=k,g=(0,h.Z)(C,i,a,!1,null,null,null),N=g.exports,b=s(2631),x=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main_page"},[e("h1",{staticClass:"main_page_title"},[t._v("NOTES")]),e("a",{staticClass:"add_button",on:{click:function(e){return t.addNoteList()}}},[t._v("add note")]),e("NotesBlock")],1)},w=[],T=(s(7658),function(){var t=this,e=t._self._c;return e("div",{staticClass:"notes_block"},t._l(t.noteLists,(function(t){return e("NoteTasksList",{key:t.id,attrs:{note:t}})})),1)}),O=[],y=function(){var t=this,e=t._self._c;return e("div",{staticClass:"note_list"},[e("div",{staticClass:"note_list_title"},[t._v(" "+t._s(t.note.title)+" ")]),e("ul",{staticClass:"notes_container"},t._l(t.tasksListSorted,(function(t){return e("TaskItem",{key:t.id,attrs:{item:t,edit:!1}})})),1),e("div",[t.isMoreTasks?e("router-link",{staticClass:"open_more_tasks",attrs:{title:"see all",to:{name:"NoteAddChange",params:{id:t.note.id}}}},[e("div",{staticClass:"more_tasks"},[t._v("...")])]):e("div")],1),e("div",{staticClass:"note_list_control"},[e("router-link",{staticClass:"note_list_edit",attrs:{title:"edit",to:{name:"NoteAddChange",params:{id:t.note.id}}}},[e("GeneralButton",{staticClass:"btn_edit"},[e("i",{staticClass:"fa-solid fa-file-pen"})])],1),e("a",{staticClass:"note_delete",attrs:{title:"delete"}},[e("GeneralButton",{staticClass:"note_list_delete",on:{click:t.deleteListNote}},[e("i",{staticClass:"fa-solid fa-trash-can"})])],1)],1)])},M=[],B=function(){var t=this,e=t._self._c;return e("li",{staticClass:"task_item",class:{task_item_done:t.item.done}},[t.edit?e("div",{staticClass:"task_edit"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.item.done,expression:"item.done"}],staticClass:"task_checkbox",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.item.done)?t._i(t.item.done,null)>-1:t.item.done},on:{change:function(e){var s=t.item.done,o=e.target,i=!!o.checked;if(Array.isArray(s)){var a=null,n=t._i(s,a);o.checked?n<0&&t.$set(t.item,"done",s.concat([a])):n>-1&&t.$set(t.item,"done",s.slice(0,n).concat(s.slice(n+1)))}else t.$set(t.item,"done",i)}}}),e("input",{directives:[{name:"model",rawName:"v-model",value:t.item.text,expression:"item.text"}],staticClass:"task_text",attrs:{disabled:t.item.done,required:"",minlength:"1",type:"text"},domProps:{value:t.item.text},on:{input:function(e){e.target.composing||t.$set(t.item,"text",e.target.value)}}}),e("button",{staticClass:"btn_delete_item",attrs:{title:"delete task",type:"button"},on:{click:t.deleteItem}},[e("i",{staticClass:"fa-solid fa-minus"})])]):e("div",{staticClass:"task_not_edit"},[e("input",{staticClass:"task_checkbox",attrs:{type:"checkbox",disabled:"true"},domProps:{checked:t.item.done}}),e("p",{staticClass:"task_text_not_edit"},[t._v(" "+t._s(t.item.text)+" ")])])])},$=[],P={name:"TaskItem",props:{item:{type:Object,required:!0},edit:{type:Boolean,required:!0},deleteItemAction:{type:Function,default:function(){}}},methods:{deleteItem(){return this.deleteItemAction(this.item.id)}}},S=P,I=(0,h.Z)(S,B,$,!1,null,"583ce4ab",null),Z=I.exports,A={name:"NoteTasksList",props:{note:{type:Object}},components:{TaskItem:Z,GeneralButton:p},computed:{tasksListSorted(){let t=[...this.note.tasksList];return t=t.map((t=>({...t}))),t.sort(((t,e)=>t.done===e.done?0:!1===t.done?-1:1)),t.slice(0,4)},isMoreTasks(){return this.note.tasksList.length>4}},methods:{deleteListNote(){this.$store.dispatch("showModal",{text:`Хочете видалити нотатку? (${this.note.title})`,callBack:this.handleConfirmation(this._deleteListNote)})},_deleteListNote(){this.$store.dispatch("deleteNote",this.note.id)},handleConfirmation(t,e=null){return s=>{s?t():null!==e&&e()}}}},G=A,q=(0,h.Z)(G,y,M,!1,null,"48b32046",null),J=q.exports,j={name:"NotesBlock",components:{NoteTasksList:J},data:()=>({isModalOpen:!1}),computed:{noteLists(){return this.$store.getters.TODO_LISTS}}},E=j,D=(0,h.Z)(E,T,O,!1,null,"b1c6a112",null),F=D.exports,H={name:"MainPage",components:{NotesBlock:F},methods:{addNoteList:async function(){const t=await this.$store.dispatch("addNote");this.$router.push({name:"NoteAddChange",params:{id:t},query:{new:"true"}})}}},R=H,W=(0,h.Z)(R,x,w,!1,null,"c78436ac",null),Y=W.exports,z=function(){var t=this,e=t._self._c;return e("div",{staticClass:"note_add_change"},[e("div",{staticClass:"note_add_head"},[e("div",{staticClass:"note_add_input"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.todoListLocal.title,expression:"todoListLocal.title"}],staticClass:"note_add_title",attrs:{required:"",placeholder:"name note..."},domProps:{value:t.todoListLocal.title},on:{input:function(e){e.target.composing||t.$set(t.todoListLocal,"title",e.target.value)}}})]),e("div",{staticClass:"note_add_buttons"},[e("GeneralButton",{staticClass:"btn_delete",attrs:{title:"delete"},on:{click:t.deleteListNote}},[e("i",{staticClass:"fa-solid fa-trash-can"})]),e("div",{staticClass:"buttons_arrow"},[e("GeneralButton",{staticClass:"btn_undo",attrs:{title:"undo",disabled:t.todoNotChanged},on:{click:t.undoChanges}},[e("i",{staticClass:"fa-sharp fa-solid fa-arrow-left"})]),e("GeneralButton",{staticClass:"btn_redo",attrs:{title:"redo",disabled:!t.redoEnabled},on:{click:t.redoChanges}},[e("i",{staticClass:"fa-sharp fa-solid fa-arrow-right"})])],1)],1)]),e("div",{staticClass:"tasks_container"},[e("TaskItemNew",{attrs:{callback:t.addTask}}),t._l(t.todoListLocal.tasksList,(function(s){return e("TaskItem",{key:s.id,staticClass:"task_item",attrs:{item:s,edit:!0,deleteItemAction:t.deleteTask}})}))],2),e("div",{staticClass:"note_add_confirm"},[e("GeneralButton",{staticClass:"btn_confirm",on:{click:t.cancelChanges}},[t._v(" cancel ")]),e("GeneralButton",{staticClass:"btn_confirm",attrs:{type:"button"},on:{click:t.saveChanges}},[t._v(" save ")])],1)])},K=[],Q=function(){var t=this,e=t._self._c;return e("form",{staticClass:"task_item_new",on:{submit:function(t){t.preventDefault()}}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.newTodoText,expression:"newTodoText"}],staticClass:"task_item_input",attrs:{placeholder:"what should be done?..",required:""},domProps:{value:t.newTodoText},on:{input:function(e){e.target.composing||(t.newTodoText=e.target.value)}}}),e("button",{staticClass:"task_item_btn",attrs:{title:"add task",type:"submit"},on:{click:t.addTodo}},[t._v("+")])])},U=[],V={name:"TaskItemNew",props:{callback:{type:Function,required:!0}},data(){return{newTodoText:""}},methods:{addTodo(){const t=this.newTodoText;if(!t)return!1;setTimeout((()=>{this.callback(t),this.newTodoText=""}),0)}}},X=V,tt=(0,h.Z)(X,Q,U,!1,null,"41c93192",null),et=tt.exports,st={name:"NoteAddChange",components:{TaskItem:Z,TaskItemNew:et,GeneralButton:p},data(){return{todoListLocal:null,todoListLastChange:null,redoEnabled:!1}},computed:{id(){return this.$route.params.id},todoList(){return this.$store.getters.TODO_LISTS.find((t=>t.id===parseInt(this.id)))},todoNotChanged(){return JSON.stringify(this.todoList)===JSON.stringify(this.todoListLocal)},isNew(){return"true"===this.$route.query.new}},methods:{addTask(t){this.todoListLocal.tasksList.push({id:this.todoListLocal.tasksList.length+1,done:!1,text:t})},deleteTask(t){this.todoListLocal.tasksList=this.todoListLocal.tasksList.filter((e=>e.id!==t))},deleteListNote(){this.$store.dispatch("showModal",{text:"Хочете видалити нотаток?",callBack:this.handleConfirmation(this._deleteListNote)})},handleConfirmation(t,e=null){return s=>{s?t():null!==e&&e()}},_deleteListNote(){this.$store.dispatch("deleteNote",this.todoListLocal.id),this.goHome()},cancelChanges(){this.isNew?this.$store.dispatch("showModal",{text:"Хочете відминити створення?",callBack:this.handleConfirmation(this._deleteListNote)}):this.$store.dispatch("showModal",{text:"Хочете відминити редагування?",callBack:this.handleConfirmation(this.goHome)})},undoChanges(){if(this.todoNotChanged)return!1;this.todoListLastChange={...this.todoListLocal},this.todoListLocal=JSON.parse(JSON.stringify(this.todoList)),this.redoEnabled=!0},redoChanges(){if(null===this.todoListLastChange)return!1;this.todoListLocal=JSON.parse(JSON.stringify(this.todoListLastChange)),this.todoListLastChange=null,this.redoEnabled=!1},saveChanges(t){t.preventDefault(),this.todoListLocal.title||(this.todoListLocal.title=this.todoList.title),this.updateListNote(),this.goHome()},goHome(){this.$router.push({name:"MainPage"})},updateListNote(){this.$store.dispatch("updateNote",this.todoListLocal)}},created(){this.todoListLocal=JSON.parse(JSON.stringify(this.todoList))}},ot=st,it=(0,h.Z)(ot,z,K,!1,null,"3ca21d08",null),at=it.exports;o.ZP.use(b.ZP);const nt=[{path:"/",name:"MainPage",component:Y},{path:"/NoteAddChange/:id",name:"NoteAddChange",component:at}],lt=new b.ZP({routes:nt});var dt=lt,rt=s(3822);const ct=t=>{localStorage.setItem("todoLists",JSON.stringify(t))},ut=()=>JSON.parse(localStorage.getItem("todoLists")),ht={};ht.todoLists=ut()||[],ht.prompt={text:"",confirmed:null,isModalOpen:!1,callBack:null},o.ZP.use(rt.ZP);const mt=new rt.ZP.Store({state:ht,mutations:{addNote(t){let e;const s=t.todoLists.length;if(s>0){const s=t.todoLists[t.todoLists.length-1];e=s.id+1}else e=1;t.todoLists.push({id:e,title:`${e} notes`,tasksList:[]})},deleteNote(t,e){t.todoLists=t.todoLists.filter((t=>t.id!==e))},updateNote(t,e){const s=t.todoLists.findIndex((t=>t.id===e.id));-1!==s&&(t.todoLists[s]=e)},showModal(t,{text:e,callBack:s}){t.prompt={text:e,confirmed:null,isModalOpen:!0,callBack:s}},closeModal(t,e){t.prompt={...t.prompt,text:"",isModalOpen:!1,confirmed:e};const s=t.prompt.callBack;null!=s&&s(e)}},actions:{addNote:t=>(t.commit("addNote"),t.state.todoLists[t.state.todoLists.length-1].id),deleteNote:(t,e)=>{t.commit("deleteNote",e)},updateNote:(t,e)=>{t.commit("updateNote",e)},showModal:(t,{text:e,callBack:s})=>{t.commit("showModal",{text:e,callBack:s})},closeModal:(t,e)=>{t.commit("closeModal",e)}},getters:{TODO_LISTS:t=>t.todoLists,PROMPT:t=>t.prompt}}),pt=["addNote","deleteNote","updateNote"];mt.subscribe(((t,e)=>{pt.includes(t.type)&&ct(e.todoLists)}));var ft=mt;o.ZP.config.productionTip=!1,new o.ZP({router:dt,store:ft,render:t=>t(N)}).$mount("#app")}},e={};function s(o){var i=e[o];if(void 0!==i)return i.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,o,i,a){if(!o){var n=1/0;for(c=0;c<t.length;c++){o=t[c][0],i=t[c][1],a=t[c][2];for(var l=!0,d=0;d<o.length;d++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](o[d])}))?o.splice(d--,1):(l=!1,a<n&&(n=a));if(l){t.splice(c--,1);var r=i();void 0!==r&&(e=r)}}return e}a=a||0;for(var c=t.length;c>0&&t[c-1][2]>a;c--)t[c]=t[c-1];t[c]=[o,i,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var o in e)s.o(e,o)&&!s.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,a,n=o[0],l=o[1],d=o[2],r=0;if(n.some((function(e){return 0!==t[e]}))){for(i in l)s.o(l,i)&&(s.m[i]=l[i]);if(d)var c=d(s)}for(e&&e(o);r<n.length;r++)a=n[r],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(c)},o=self["webpackChunktodo_list_test"]=self["webpackChunktodo_list_test"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(1870)}));o=s.O(o)})();
//# sourceMappingURL=app.9026aa0a.js.map